実装途中でPOから要件の変更や追加があった場合の対応フロー。

## Step 1: 変更内容の把握

POの変更要求から以下を特定する：
- 何を変えたいか / 何を追加したいか
- 既存の requirements.md / design.md への影響
- 現在の実装進捗（tasks.md の status を確認）

## Step 2: 影響分析

### 影響度の判定

以下の基準で判定する：

**Small（軽微）**:
- 既存の design.md の範囲内で対応可能
- 新規タスク追加 1-2個
- 完了済みタスクへの影響なし
→ tasks.md にタスク追加で対応

**Medium（中程度）**:
- design.md の一部修正が必要
- 完了済みタスクへの軽微な影響あり
→ design.md 更新 + tasks.md 更新 + 影響タスクの再実装

**Large（大規模）**:
- requirements.md から見直しが必要
- アーキテクチャ変更を伴う
- 完了済みタスクの大幅な作り直し
→ 別フィーチャーとして切り出すことを推奨

## Step 3: POへの報告

```
📝 変更要求の影響分析

要求: {POの変更要求の要約}
影響度: {Small / Medium / Large}

影響範囲:
  - requirements.md: {変更あり/なし}
  - design.md: {変更あり/なし}
  - 完了済みタスク: {影響あるタスクのリスト / なし}
  - 未着手タスク: {影響あるタスクのリスト / なし}

対応案:
  {Small の場合}
  → tasks.md にタスク追加して続行

  {Medium の場合}
  → 一旦実装を止めて design.md を更新
  → 影響のあるタスクを再実装
  → 追加コスト: 約 {見積}

  {Large の場合}
  → 別フィーチャー specs/{new-feature}/ として切り出すことを推奨
  → 現在のフィーチャーは当初スコープで完了させる

どうしますか？
```

## Step 4: 対応の実行

### Small の場合
1. tasks.md に新規タスクを追加（architect に委任）
2. 通常フローで実装を続行

### Medium の場合
1. 実装を一時停止
2. architect に design.md の更新を委任
3. architect に tasks.md の更新を委任（影響タスクを特定）
4. PO に更新された design.md + tasks.md の承認を求める
5. 承認後、影響タスクから再実装

### Large の場合
1. 現在のフィーチャーは当初スコープで完了させる
2. 変更要求を新しいフィーチャーとして specs/{new-feature}/ に記録
3. PM に新フィーチャーの requirements.md 作成を委任
4. 通常の /orchestrate フローで進行

## 変更履歴の記録

すべての変更要求は specs/{feature}/requirements.md の末尾に記録する：

```markdown
## 変更履歴

| 日付 | 変更内容 | 影響度 | 対応 |
|---|---|---|---|
| {日付} | {変更内容} | {S/M/L} | {対応方法} |
```
